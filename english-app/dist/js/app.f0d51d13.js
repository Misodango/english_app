(function(){"use strict";var e={382:function(e,t,n){var s=n(5130),l=n(6768);const a={id:"app"};function r(e,t,n,s,r,c){const i=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)("div",a,[(0,l.bF)(i)])}var c={name:"App"},i=n(1241);const o=(0,i.A)(c,[["render",r]]);var u=o,d=n(1387);function f(e,t,n,s,a,r){const c=(0,l.g2)("v-card-title"),i=(0,l.g2)("v-btn"),o=(0,l.g2)("v-card-text"),u=(0,l.g2)("v-card"),d=(0,l.g2)("v-col"),f=(0,l.g2)("v-row"),h=(0,l.g2)("v-container");return(0,l.uX)(),(0,l.Wv)(h,{class:"fill-height",fluid:""},{default:(0,l.k6)((()=>[(0,l.bF)(f,{align:"center",justify:"center"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{cols:"12",sm:"8",md:"6"},{default:(0,l.k6)((()=>[(0,l.bF)(u,{class:"elevation-12"},{default:(0,l.k6)((()=>[(0,l.bF)(c,{class:"text-h5 text-center"},{default:(0,l.k6)((()=>t[0]||(t[0]=[(0,l.eW)(" 英語学習アプリへようこそ ")]))),_:1}),(0,l.bF)(o,null,{default:(0,l.k6)((()=>[t[3]||(t[3]=(0,l.Lk)("p",{class:"text-center"},"以下のオプションから選択してください：",-1)),(0,l.bF)(i,{onClick:r.startLesson,color:"primary",block:"",class:"mt-2"},{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.eW)(" レッスンを始める ")]))),_:1},8,["onClick"]),(0,l.bF)(i,{onClick:r.settings,color:"secondary",block:"",class:"mt-2"},{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.eW)(" 設定 ")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}n(4114);var h={name:"StartScreen",methods:{startLesson(){this.$router.push("/play")},settings(){this.$router.push("/settings")}}};const p=(0,i.A)(h,[["render",f]]);var v=p,m=n(4232);const k={key:2},g={key:0},b={key:0},y={key:1};function _(e,t,n,s,a,r){const c=(0,l.g2)("v-card-title"),i=(0,l.g2)("v-chip"),o=(0,l.g2)("v-chip-group"),u=(0,l.g2)("v-card-text"),d=(0,l.g2)("v-card"),f=(0,l.g2)("v-btn"),h=(0,l.g2)("v-card-actions"),p=(0,l.g2)("v-alert"),v=(0,l.g2)("v-container");return(0,l.uX)(),(0,l.Wv)(v,null,{default:(0,l.k6)((()=>[t[7]||(t[7]=(0,l.Lk)("h1",null,"プレイ画面",-1)),a.currentSentence?((0,l.uX)(),(0,l.Wv)(d,{key:0},{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.eW)("文章を正しく並べ替えてください")]))),_:1}),(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.bF)(o,{modelValue:a.selectedWords,"onUpdate:modelValue":t[0]||(t[0]=e=>a.selectedWords=e),column:"",multiple:""},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.shuffledWords,(e=>((0,l.uX)(),(0,l.Wv)(i,{key:e,value:e},{default:(0,l.k6)((()=>[(0,l.eW)((0,m.v_)(e),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,l.bF)(d,null,{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.eW)("あなたの回答")]))),_:1}),(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.bF)(o,{column:"",multiple:""},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.selectedWords,(e=>((0,l.uX)(),(0,l.Wv)(i,{key:e,value:e},{default:(0,l.k6)((()=>[(0,l.eW)((0,m.v_)(e),1)])),_:2},1032,["value"])))),128))])),_:1})])),_:1}),a.currentSentence.length>0?((0,l.uX)(),(0,l.Wv)(h,{key:0},{default:(0,l.k6)((()=>[(0,l.bF)(f,{onClick:r.popString,color:"primary"},{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.eW)(" 1つ戻る ")]))),_:1},8,["onClick"])])),_:1})):(0,l.Q3)("",!0),r.checkLength()?((0,l.uX)(),(0,l.Wv)(h,{key:1},{default:(0,l.k6)((()=>[(0,l.bF)(f,{onClick:r.checkAnswer,color:"primary"},{default:(0,l.k6)((()=>t[4]||(t[4]=[(0,l.eW)(" 回答を確認 ")]))),_:1},8,["onClick"])])),_:1})):(0,l.Q3)("",!0)])),_:1})):(0,l.Q3)("",!0),a.feedback?((0,l.uX)(),(0,l.Wv)(p,{key:1,type:a.feedbackType,class:"mt-4"},{default:(0,l.k6)((()=>[(0,l.eW)((0,m.v_)(a.feedback),1)])),_:1},8,["type"])):(0,l.Q3)("",!0),a.currentSentence?((0,l.uX)(),(0,l.CE)("div",k,[r.isCorrect()&&"success"===a.feedbackType?((0,l.uX)(),(0,l.CE)("div",g,[r.isEnd()?((0,l.uX)(),(0,l.CE)("div",b,[(0,l.bF)(f,{onClick:r.startScreen},{default:(0,l.k6)((()=>t[5]||(t[5]=[(0,l.Lk)("p",null,"終了",-1)]))),_:1},8,["onClick"])])):((0,l.uX)(),(0,l.CE)("div",y,[(0,l.bF)(f,{onClick:r.nextSentence,color:"secondary",class:"mt-4"},{default:(0,l.k6)((()=>t[6]||(t[6]=[(0,l.Lk)("p",null,"次の問題",-1)]))),_:1},8,["onClick"])]))])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)])),_:1})}var S={name:"PlayScreen",data(){return{sentences:[],currentSentence:null,shuffledWords:[],selectedWords:[],feedback:"",feedbackType:"info"}},mounted(){this.loadSentences()},methods:{loadSentences(){this.sentences=["I,play,the,guitar,.","She,likes,to,sing,songs,.","They,are,studying,English,."],this.nextSentence()},nextSentence(){this.sentences.length>0?(this.currentSentence=this.sentences.pop(),this.shuffledWords=this.shuffleArray(this.currentSentence.split(",")),this.selectedWords=[],this.feedback="",this.feedbackType="info"):(this.currentSentence=null,this.feedback="すべての問題が終了しました。",this.feedbackType="success")},shuffleArray(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e},isCorrect(){const e=this.currentSentence.split(",").join(" "),t=this.selectedWords.join(" ");return e===t},checkAnswer(){this.isCorrect()?(this.feedback="正解です！",this.feedbackType="success"):(this.feedback="😣残念．．．もう一度やってみよう！😣",this.feedbackType="error")},checkLength(){const e=this.currentSentence.split(",").join(" "),t=this.selectedWords.join(" ");return t.length==e.length},popString(){this.selectedWords.pop()},isEnd(){return 0===this.sentences.length},startScreen(){this.$router.push("/")}}};const W=(0,i.A)(S,[["render",_]]);var F=W;const C={class:"sentences-list"},X={class:"d-flex align-center"},x={class:"mr-2"},T={class:"preview-chips ml-8 mt-2"};function w(e,t,n,s,a,r){const c=(0,l.g2)("v-file-input"),i=(0,l.g2)("v-text-field"),o=(0,l.g2)("v-card-title"),u=(0,l.g2)("v-icon"),d=(0,l.g2)("v-btn"),f=(0,l.g2)("v-chip"),h=(0,l.g2)("v-card-text"),p=(0,l.g2)("v-spacer"),v=(0,l.g2)("v-card-actions"),k=(0,l.g2)("v-card"),g=(0,l.g2)("v-alert"),b=(0,l.g2)("v-container");return(0,l.uX)(),(0,l.Wv)(b,null,{default:(0,l.k6)((()=>[t[5]||(t[5]=(0,l.Lk)("h1",{class:"mb-4"},"設定画面",-1)),(0,l.bF)(c,{modelValue:a.file,"onUpdate:modelValue":t[0]||(t[0]=e=>a.file=e),label:"CSVファイルをアップロード",accept:".csv",onChange:r.handleFileUpload,class:"mb-4"},null,8,["modelValue","onChange"]),a.sentences.length>0?((0,l.uX)(),(0,l.Wv)(k,{key:0,class:"mb-4"},{default:(0,l.k6)((()=>[(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.bF)(i,{modelValue:a.fileName,"onUpdate:modelValue":t[1]||(t[1]=e=>a.fileName=e),label:"単元名を入力",placeholder:"例: Unit1-Daily Life",class:"mb-2",density:"compact"},null,8,["modelValue"])])),_:1}),(0,l.bF)(h,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",C,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.sentences,((e,n)=>((0,l.uX)(),(0,l.CE)("div",{key:n,class:"sentence-item mb-4"},[(0,l.Lk)("div",X,[(0,l.Lk)("span",x,"問題 "+(0,m.v_)(n+1)+":",1),(0,l.bF)(i,{modelValue:a.sentences[n],"onUpdate:modelValue":e=>a.sentences[n]=e,density:"compact","hide-details":"",class:"flex-grow-1"},null,8,["modelValue","onUpdate:modelValue"]),(0,l.bF)(d,{icon:"",variant:"text",color:"error",size:"large",class:"ml-2",onClick:e=>r.removeSentence(n)},{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.eW)("mdi-delete")]))),_:1})])),_:2},1032,["onClick"])]),(0,l.Lk)("div",T,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.split(","),((e,t)=>((0,l.uX)(),(0,l.Wv)(f,{key:t,size:"small",class:"ma-1",color:"primary",variant:"outlined"},{default:(0,l.k6)((()=>[(0,l.eW)((0,m.v_)(e),1)])),_:2},1024)))),128))])])))),128))])])),_:1}),(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,{"prepend-icon":"mdi-plus",variant:"tonal",onClick:r.addNewSentence,class:"mr-2"},{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.eW)(" 新しい問題を追加 ")]))),_:1},8,["onClick"]),(0,l.bF)(p),(0,l.bF)(d,{"prepend-icon":"mdi-check",color:"primary",onClick:r.saveSentences,disabled:!r.isValidData},{default:(0,l.k6)((()=>t[4]||(t[4]=[(0,l.eW)(" 保存 ")]))),_:1},8,["onClick","disabled"])])),_:1})])),_:1})):(0,l.Q3)("",!0),a.message?((0,l.uX)(),(0,l.Wv)(g,{key:1,type:a.messageType,class:"mt-4",closable:""},{default:(0,l.k6)((()=>[(0,l.eW)((0,m.v_)(a.message),1)])),_:1},8,["type"])):(0,l.Q3)("",!0)])),_:1})}var L={name:"SettingsScreen",data(){return{file:null,sentences:[],message:"",messageType:"info",fileName:""}},computed:{isValidData(){return""!==this.fileName.trim()&&this.sentences.length>0&&this.sentences.every((e=>""!==e.trim()))}},methods:{handleFileUpload(){if(this.file){const e=new FileReader;e.onload=e=>{const t=e.target.result;this.sentences=t.split("\n").filter((e=>""!==e.trim())).map((e=>e.trim())),this.file.name&&(this.fileName=this.file.name.replace(/\.csv$/,""))},e.readAsText(this.file)}},addNewSentence(){this.sentences.push("")},removeSentence(e){this.sentences.splice(e,1)},validateSentence(e){const t=e.split(",");return t.length>=2&&t.every((e=>""!==e.trim()))},saveSentences(){if(!this.isValidData)return this.message="単元名と少なくとも1つの有効な問題が必要です。",void(this.messageType="error");const e=this.sentences.filter((e=>!this.validateSentence(e)));if(e.length>0)return this.message="正しくない形式の問題があります。カンマ区切りで入力してください。",void(this.messageType="error");try{const e={name:this.fileName,sentences:this.sentences,createdAt:(new Date).toISOString()},t=JSON.parse(localStorage.getItem("englishLessons")||"[]"),n=t.findIndex((e=>e.name===this.fileName));-1!==n?t[n]=e:t.push(e),localStorage.setItem("englishLessons",JSON.stringify(t)),this.message="文章が正常に保存されました。",this.messageType="success"}catch(t){this.message="保存中にエラーが発生しました。",this.messageType="error",console.error("保存エラー:",t)}}}};const V=(0,i.A)(L,[["render",w],["__scopeId","data-v-5109b1de"]]);var E=V;const O=[{path:"/",name:"Start",component:v},{path:"/play",name:"Play",component:F},{path:"/settings",name:"Settings",component:E}],j=(0,d.aE)({history:(0,d.LA)("/"),routes:O});var A=j,N=(n(5524),n(7768)),I=n(1920),Q=n(5741),U=(0,N.$N)({components:I,directives:Q});const P=(0,s.Ef)(u);P.use(A),P.use(U),P.mount("#app")}},t={};function n(s){var l=t[s];if(void 0!==l)return l.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,s,l,a){if(!s){var r=1/0;for(u=0;u<e.length;u++){s=e[u][0],l=e[u][1],a=e[u][2];for(var c=!0,i=0;i<s.length;i++)(!1&a||r>=a)&&Object.keys(n.O).every((function(e){return n.O[e](s[i])}))?s.splice(i--,1):(c=!1,a<r&&(r=a));if(c){e.splice(u--,1);var o=l();void 0!==o&&(t=o)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[s,l,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var l,a,r=s[0],c=s[1],i=s[2],o=0;if(r.some((function(t){return 0!==e[t]}))){for(l in c)n.o(c,l)&&(n.m[l]=c[l]);if(i)var u=i(n)}for(t&&t(s);o<r.length;o++)a=r[o],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},s=self["webpackChunkenglish_app"]=self["webpackChunkenglish_app"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[504],(function(){return n(382)}));s=n.O(s)})();
//# sourceMappingURL=app.f0d51d13.js.map